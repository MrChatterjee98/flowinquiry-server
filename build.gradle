plugins {
    id "base"
    id "maven-publish"
    id "idea"
    id "com.gorylenko.gradle-git-properties"
    alias(libs.plugins.spring.boot)
    id "com.diffplug.spotless"
}

version = "0.0.1-SNAPSHOT"
description = ""

assert System.properties["java.specification.version"] == "17" || "18" || "19" || "20" || "21" || "22"

allprojects {
    group = 'io.flexwork'
    repositories {
        mavenCentral()
    }

    gitProperties {
        failOnNoGitDirectory = false
        keys = ["git.branch", "git.commit.id.abbrev", "git.commit.id.describe"]
    }

    tasks.withType(com.gorylenko.GenerateGitPropertiesTask).configureEach {
        outputs.doNotCacheIf("Task is always executed") { true }
    }

//    spotless {
//        java {
//            // Use the default importOrder configuration
//            importOrder()
//
//            removeUnusedImports()
//
//            googleJavaFormat()
//            formatAnnotations()
//        }
//
//        kotlin {
//            ktfmt()
//        }
//    }
}

